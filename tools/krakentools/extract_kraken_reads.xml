<tool id="krakentools_extract_kraken_reads" name="Krakentools: Extract reads classified at any user-specified taxonomy IDs" version="@TOOL_VERSION@+galaxy@VERSION_SUFFIX@" profile="@PROFILE@">
	<description>
		Extract reads classified at any user-specified taxonomy IDs
	</description>
	<macros>
		<import>
			macros.xml
		</import>
	</macros>
	<expand macro="biotools" />
	<expand macro="requirements" />
	<expand macro="version" />
	<command detect_errors="exit_code"><![CDATA[ 
        extract_kraken_reads.py -k $input -s1 $seq_1 -s2 $seq_2     
        ]]>
	</command>
	<inputs>
		<param argument="--input" type="data" format="tabular" label="Taxonomy file(s)" help="The files can be generated by Kraken, Bracken or Krona" />
		<param argument="--seq_1" type="data" format="fasta, fastq" label="FASTA/FASTQ sequence" help="FASTA/FASTQ sequence file (may be gzipped)" />
		<param argument="--seq_2" type="data" format="fasta, fastq" label="FASTA/FASTQ sequence" help="FASTA/FASTQ sequence file (for paired reads, may be gzipped)" />
	</inputs>
	<!-- <outputs>
		<data name="output" format="tabular" />
	</outputs>
	<tests>
		<test>
			<param name="reports" value="beta_kreport_1.tabular,beta_kreport_3.tabular" />
			<param name="display_headers" value="--no-headers" />
			<output name="output" file="combined_kreport.tabular" />
		</test>
		<test>
			<param name="reports" value="beta_kreport_1.tabular,beta_kreport_3.tabular" />
			<param name="display_headers" value="--no-headers" />
			<param name="only_combined" value="--only-combined" />
			<output name="output" file="only_combined_count.tabular" />
		</test>
	</tests>
	<help>
		<![CDATA[
		KrakenTools is a suite of scripts to be used alongside the Kraken, KrakenUniq, Kraken 2, or Bracken programs. These scripts are designed to help Kraken users with downstream analysis of Kraken results. This script combines multiple Kraken reports into a combined report file.
		
		Input
		------
		Kraken-style reports to combine
		
		Output
		------
		Combine Kraken reports
		
		Input file format (tab-delimited)
		- percentage of total reads
		- number of reads (including reads within subtree)
		- number of reads (only at this level)
		- taxonomic classification level (U, D, P, C, O, F, G, S,...etc)
		- NCBI taxonomic ID
		- name of level
		
		Output file format (tab-delimited)
		- percentage of total reads (for summed reads)
		- combined number of reads (including reads within subtree)
		- combined number of reads (only at this level)
		- S1_all_reads, S1_lvl_reads, S2_all_reads, S2_lvl_reads, ...etc.
		- taxonomic classification level (U, D, P, C, O, F, G, S,...etc)
		- NCBI taxonomic ID
		- name of level
		]]>
	</help>
	-->
	<expand macro="citations" />
</tool> -->
